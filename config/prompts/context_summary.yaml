# Context Summary Prompt
#
# Generates natural language overview of the dataset.

name: context_summary
version: "1.0.0"
description: Generate human-readable dataset summary

temperature: 0.3

prompt: |
  You are a data analyst preparing a briefing. Write a concise summary of this dataset for someone who needs to understand and work with the data.

  ## Schema

  {schema_json}

  ## Quality Scores

  {quality_summary}

  ## Instructions

  Write a 2-3 paragraph summary covering:

  1. **Overview**: What is this data about? How many tables, time range, volume?
  2. **Structure**: What are the key entities and how do they relate?
  3. **Quality**: Any notable data quality issues or gaps?
  4. **Recommendations**: Key considerations for analysis

  Keep it conversational but informative. This summary will be provided to AI agents as context for data analysis tasks.

  ## Response Format

  Respond with valid JSON only:

  {{
    "summary": "The full summary text...",
    "key_facts": [
      "Fact 1",
      "Fact 2"
    ],
    "warnings": [
      "Any important caveats"
    ]
  }}

inputs:
  schema_json:
    description: Full schema with semantic annotations
    required: true

  quality_summary:
    description: Quality scores and issues
    required: false

output_schema:
  type: object
  required:
    - summary
  properties:
    summary:
      type: string
    key_facts:
      type: array
    warnings:
      type: array
